#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
قاموس موسع شامل - يحتوي على مثيلات لكل كلمة مفتاحية في كل التصنيفات
"""

import json

# القاموس الموسع الشامل
MEGA_DICTIONARY = {
    # ============================================
    # المأكولات والمشروبات - Food and Beverages
    # ============================================

    # المخابز والمعجنات - Bakeries and Pastries
    'مخبز': ['مخابز', 'خبز', 'فرن', 'أفران', 'مخبزة', 'خباز', 'bakery', 'bread',
             'فطائر', 'معجنات', 'صمون', 'خبز طازج', 'خبز يومي', 'مخبز آلي'],

    'معجنات': ['معجن', 'فطائر', 'فطيرة', 'كرواسون', 'كروسان', 'دانش', 'باتيه',
               'سمبوسة', 'سمبوسك', 'باف باستري', 'بف', 'pastries', 'pastry',
               'عجين', 'عجينة', 'لفائف', 'رول', 'كعك محشي', 'فطاير', 'فطير',
               'بليلة', 'بلح الشام', 'زلابية', 'زنود الست', 'عش البلبل',
               'كنافة نابلسية', 'معمول', 'كليجة', 'كليجا', 'غريبة'],

    'بليلة': ['بلح الشام', 'زنود الست', 'عش البلبل', 'لقمة القاضي', 'عوامة',
              'معجنات شرقية', 'معجنات حلوة', 'حلويات معجنات', 'معجنات بالقطر'],

    'خبز': ['مخبز', 'عيش', 'رغيف', 'أرغفة', 'صمون', 'bread', 'toast', 'خبز طازج',
            'خبز تنور', 'خبز عربي', 'خبز إفرنجي', 'خبز فرنسي', 'باغيت', 'توست',
            'صامولي', 'خبز حمام', 'خبز تميس', 'خبز برجر', 'خبز هوت دوق'],

    'فطائر': ['فطيرة', 'معجنات', 'باتيه', 'سمبوسة', 'pie', 'pies', 'تارت',
              'فطيرة تفاح', 'فطيرة لحم', 'فطائر الجبن', 'فطائر السبانخ',
              'مناقيش', 'منقوشة', 'فطيرة زعتر', 'لحم بعجين'],

    'كرواسون': ['كروسان', 'croissant', 'كرواسانت', 'معجنات فرنسية',
                'كرواسون شوكولاتة', 'كرواسون جبنة', 'كرواسون زعتر'],

    # الحلويات - Desserts and Sweets
    'حلويات': ['حلوى', 'حلو', 'سويت', 'sweets', 'dessert', 'deserts', 'حلا',
               'حلويات شرقية', 'حلويات غربية', 'معمول', 'كعك', 'بسكويت',
               'كيك', 'جاتو', 'تورتة', 'كنافة', 'بقلاوة', 'بسبوسة', 'هريسة',
               'قطايف', 'لقمة القاضي', 'عوامة', 'غريبة', 'شوكولاتة'],

    'كيك': ['كعك', 'كعكة', 'جاتو', 'تورتة', 'cake', 'كب كيك', 'cupcake',
            'كيك عيد ميلاد', 'تشيز كيك', 'براونيز', 'ريد فيلفت', 'كيك شوكولاتة'],

    'كوكيز': ['بسكويت', 'كوكي', 'cookies', 'cookie', 'بسكوت', 'بيسكوت',
              'كوكيز شوكولاتة', 'كوكيز زبدة', 'أوريو', 'كوكيز محشي'],

    'شوكولاتة': ['شوكولا', 'شكلت', 'chocolate', 'كاكاو', 'شوكليت', 'تشوكليت',
                 'شوكولاتة داكنة', 'شوكولاتة بالحليب', 'شوكولاتة بيضاء',
                 'ترافل', 'براونيز', 'نوتيلا', 'فيريرو'],

    'آيس كريم': ['أيس كريم', 'ايس كريم', 'بوظة', 'جيلاتي', 'ice cream', 'gelato',
                 'مثلجات', 'دوندرمة', 'ايسكريم', 'مثلج', 'سوفت ايس كريم'],

    'كنافة': ['كنافه', 'كنفه', 'kunafa', 'kunafeh', 'كنافة نابلسية',
              'كنافة بالقشطة', 'كنافة ناعمة', 'كنافة خشنة'],

    'بقلاوة': ['بقلاوه', 'باكلافا', 'baklava', 'بقلافة', 'بقلاوة فستق',
               'بقلاوة جوز', 'بقلاوة بالعسل'],

    # المطاعم - Restaurants
    'مطعم': ['مطاعم', 'ريستورانت', 'restaurant', 'مأكولات', 'طعام', 'أكل',
             'وجبات', 'طبخ', 'مطبخ', 'كافتيريا', 'بوفيه', 'فود', 'food',
             'دايننق', 'dining', 'مطعم شعبي', 'مطعم فاخر'],

    'مطبخ': ['طبخ', 'أكل', 'مأكولات', 'طعام', 'kitchen', 'cuisine',
             'مطبخ عربي', 'مطبخ هندي', 'مطبخ صيني', 'مطبخ إيطالي',
             'مطبخ تركي', 'مطبخ لبناني', 'مطبخ مصري', 'مطبخ سوري'],

    'بيتزا': ['بيتزا', 'بيزا', 'pizza', 'فطائر', 'بيتزا إيطالية',
              'بيتزا مارغريتا', 'بيتزا بيبروني', 'بيتزا باللحم', 'بيتزا بالجبن'],

    'برجر': ['برغر', 'برقر', 'همبرجر', 'burger', 'hamburger', 'ساندويتش',
             'برجر لحم', 'برجر دجاج', 'تشيز برجر', 'دبل برجر'],

    'وجبات سريعة': ['فاست فود', 'fast food', 'برجر', 'بيتزا', 'ساندويتش',
                     'شاورما', 'فلافل', 'تاكو', 'هوت دوق', 'تشيكن', 'دجاج مقلي'],

    'شاورما': ['شاورما', 'شاورمة', 'shawarma', 'دونر', 'دونر كباب', 'كباب تركي',
               'شاورما لحم', 'شاورما دجاج', 'شاورما عربية'],

    'فلافل': ['فلافل', 'طعمية', 'falafel', 'فول مقلي', 'فلافل صامولي',
              'فلافل خضار'],

    'كباب': ['شيش كباب', 'كباب حلة', 'kebab', 'كفتة', 'مشاوي',
             'كباب عراقي', 'كباب لبناني', 'كباب تركي', 'كباب هندي'],

    'مشاوي': ['شواء', 'مشوي', 'grilled', 'bbq', 'باربكيو', 'كباب', 'تكا',
              'دجاج مشوي', 'لحم مشوي', 'فحم', 'شواية', 'منقل'],

    # المقاهي والمشروبات - Cafes and Beverages
    'مقهى': ['مقاهي', 'كافيه', 'كافيه', 'كوفي', 'قهوة', 'كافي', 'كافيتريا',
             'coffee', 'cafe', 'كافي شوب', 'coffee shop', 'قهوه'],

    'كافيه': ['كافيه', 'مقهى', 'كوفي', 'قهوة', 'كافي', 'coffee', 'café',
              'كافي شوب', 'كافيتريا'],

    'قهوة': ['قهوه', 'كوفي', 'coffee', 'كافي', 'كافيه', 'اسبريسو', 'espresso',
             'كابتشينو', 'cappuccino', 'لاتيه', 'latte', 'أمريكانو', 'americano',
             'موكا', 'mocha', 'ماكياتو', 'macchiato', 'قهوة عربية', 'قهوة تركية'],

    'شاي': ['تي', 'tea', 'شاي أحمر', 'شاي أخضر', 'شاي أسود', 'شاي بالحليب',
            'شاي كرك', 'شاي نعناع', 'شاي زهورات', 'ليبتون'],

    'عصير': ['عصائر', 'juice', 'جوس', 'عصير طبيعي', 'عصير طازج', 'سموذي',
             'smoothie', 'كوكتيل', 'مشروبات طبيعية', 'فريش'],

    'مشروبات': ['مشروب', 'عصير', 'قهوة', 'شاي', 'beverages', 'drinks',
                'كوكاكولا', 'بيبسي', 'ميراندا', 'سفن اب', 'سبرايت'],

    # المأكولات البحرية - Seafood
    'مأكولات بحرية': ['سي فود', 'seafood', 'سمك', 'أسماك', 'جمبري', 'روبيان',
                       'قريدس', 'كابوريا', 'سلطعون', 'كركند', 'لوبستر', 'محار',
                       'كاليماري', 'سبيط', 'أخطبوط'],

    'سمك': ['أسماك', 'fish', 'سمكة', 'مسمط', 'مقلي سمك', 'سمك مشوي',
            'فيليه سمك', 'سمك مشوي', 'سمك قشر', 'سلمون', 'تونة', 'هامور'],

    'روبيان': ['جمبري', 'قريدس', 'shrimp', 'prawns', 'روبيان مقلي',
               'روبيان مشوي', 'جمبري فرايد'],

    # الوجبات الآسيوية - Asian Food
    'سوشي': ['سوشي', 'sushi', 'ساشيمي', 'sashimi', 'ماكي', 'maki', 'نيجيري',
             'نيجري', 'رول', 'rolls', 'سوشي سلمون', 'سوشي تونة'],

    'صيني': ['طعام صيني', 'chinese food', 'نودلز', 'noodles', 'دايم سم',
             'دجاج كونغ باو', 'أرز مقلي', 'معكرونة صينية', 'رامن'],

    'هندي': ['طعام هندي', 'indian food', 'كاري', 'curry', 'تندوري', 'tandoori',
             'بيرياني', 'biryani', 'مسالا', 'masala', 'نان', 'nan'],

    # الوجبات العربية - Arabic Food
    'مندي': ['مندي', 'mandi', 'أرز مندي', 'مندي لحم', 'مندي دجاج', 'زربيان'],

    'كبسة': ['كبسه', 'kabsa', 'مكبوس', 'أرز كبسة', 'كبسة لحم', 'كبسة دجاج'],

    'مظبي': ['مظبي', 'مضبي', 'مظبي لحم', 'مظبي دجاج', 'أرز مظبي'],

    # ============================================
    # السيارات والنقل - Automotive
    # ============================================

    'إطارات': ['إطار', 'كفرات', 'كفر', 'عجلات', 'عجل', 'تواير', 'دواليب', 'جنوط',
               'إطارات سيارات', 'كفرات سيارات', 'بيع إطارات', 'محل إطارات',
               'مركز إطارات', 'تركيب إطارات', 'تبديل إطارات', 'صيانة إطارات',
               'إطارات جديدة', 'إطارات مستعملة', 'تاير', 'تايرات', 'tire', 'tires'],

    'كفرات': ['كفر', 'إطارات', 'إطار', 'عجلات', 'تواير', 'دواليب', 'جنوط',
              'كفرات سيارات', 'بيع كفرات', 'محل كفرات', 'كفرات جديدة'],

    'سيارات': ['سياره', 'عربية', 'عربيات', 'مركبة', 'مركبات', 'أوتو', 'كار',
               'car', 'auto', 'vehicle', 'سيارة', 'سيارة نقل', 'سيارة خاصة'],

    'زينة سيارات': ['زينه', 'إكسسوارات', 'اكسسوارات سيارات', 'تزيين', 'ديكور سيارات',
                     'car accessories', 'اكسسوار', 'تجميل سيارات'],

    'تصليح سيارات': ['ورشة', 'ورشة سيارات', 'صيانة', 'إصلاح', 'تصليح',
                      'car repair', 'garage', 'ميكانيكي', 'كهربائي سيارات'],

    # ============================================
    # الصيدليات والصحة - Pharmacies and Health
    # ============================================

    'صيدلية': ['صيدليه', 'صيدليات', 'دواء', 'أدوية', 'ادويه', 'علاج', 'pharmacy',
               'طب', 'دوا', 'ادوية', 'صيدله', 'الصيدلية', 'صيدلة'],

    'عيادة': ['عيادات', 'كلينيك', 'clinic', 'مركز طبي', 'طبي', 'علاج',
              'دكتور', 'طبيب', 'معالجة', 'عيادة أسنان', 'عيادة جلدية'],

    'مستشفى': ['مستشفيات', 'hospital', 'مستوصف', 'مركز صحي', 'صحة',
                'مستشفى عام', 'مستشفى خاص', 'مستشفى تخصصي'],

    # ============================================
    # المحلات والتسوق - Stores and Shopping
    # ============================================

    'متجر': ['محل', 'دكان', 'مول', 'سوق', 'بيع', 'تسوق', 'شراء', 'shop', 'store',
             'متاجر', 'محلات', 'مركز تسوق'],

    'سوبر ماركت': ['سوبر', 'بقالة', 'هايبر', 'ماركت', 'supermarket', 'hypermarket',
                    'تموينات', 'مواد غذائية', 'بقاله', 'جمعية'],

    # ============================================
    # الخدمات - Services
    # ============================================

    'مغسلة': ['مغاسل', 'غسيل', 'تنظيف', 'laundry', 'غساله', 'مغسله',
              'تنظيف ملابس', 'كوي', 'تنظيف جاف', 'دراي كلين', 'dry clean'],

    'صالون': ['صالونات', 'حلاقة', 'تجميل', 'salon', 'حلاق', 'كوافير', 'سشوار',
              'صالون حلاقة', 'صالون تجميل', 'صالون نسائي', 'صالون رجالي'],

    'حلاق': ['حلاقة', 'صالون', 'barber', 'كوافير', 'حلاقه', 'حلاق رجالي',
             'حلاق نسائي', 'قص شعر', 'تسريح'],

    # ============================================
    # الإلكترونيات - Electronics
    # ============================================

    'إلكترونيات': ['الكترونيات', 'الكترونية', 'أجهزة', 'electronics', 'تقنية',
                   'تكنولوجيا', 'موبايل', 'جوال', 'لابتوب', 'كمبيوتر'],

    'موبايل': ['جوال', 'هاتف', 'mobile', 'phone', 'تليفون', 'آيفون', 'سامسونج',
               'موبايلات', 'جوالات', 'هواتف', 'سمارت فون'],

    # ============================================
    # الملابس - Clothing
    # ============================================

    'ملابس': ['البسة', 'كسوة', 'ثياب', 'clothes', 'clothing', 'أزياء', 'موضة',
              'فساتين', 'بدل', 'قمصان', 'بناطيل', 'تيشرتات'],

    'أزياء': ['موضة', 'ملابس', 'fashion', 'ثياب', 'البسة', 'فساتين',
              'تصاميم', 'أناقة'],

    # ============================================
    # الذهب والمجوهرات - Gold and Jewelry
    # ============================================

    'ذهب': ['ذهبية', 'مجوهرات', 'gold', 'فضة', 'حلي', 'مشغولات',
            'ذهب عيار 21', 'ذهب عيار 18', 'ذهب إيطالي'],

    'مجوهرات': ['ذهب', 'فضة', 'jewelry', 'حلي', 'اكسسوارات', 'زينة',
                'خواتم', 'أساور', 'سلاسل', 'أقراط'],
}


def get_synonyms(keyword):
    """
    إرجاع جميع المثيلات والمرادفات لكلمة معينة
    """
    keyword = keyword.strip()

    # البحث المباشر
    if keyword in MEGA_DICTIONARY:
        return MEGA_DICTIONARY[keyword]

    # البحث الجزئي
    results = []
    for key, values in MEGA_DICTIONARY.items():
        if keyword in key or key in keyword:
            results.extend(values)
        if keyword in values:
            results.append(key)
            results.extend([v for v in values if v != keyword])

    return list(set(results))


def expand_all_keywords(categories_data):
    """
    توسيع جميع الكلمات المفتاحية في التصنيفات
    """
    expanded_count = 0

    for category in categories_data:
        # توسيع الكلمات العربية
        if 'search_key_words_ar' in category and category['search_key_words_ar']:
            original_keywords = set(category['search_key_words_ar'])
            expanded_keywords = set(original_keywords)

            for keyword in original_keywords:
                synonyms = get_synonyms(keyword)
                expanded_keywords.update(synonyms)

            category['search_key_words_ar'] = list(expanded_keywords)
            expanded_count += len(expanded_keywords) - len(original_keywords)

        # توسيع الكلمات الإنجليزية
        if 'search_key_words_en' in category and category['search_key_words_en']:
            original_keywords = set(category['search_key_words_en'])
            expanded_keywords = set(original_keywords)

            for keyword in original_keywords:
                synonyms = get_synonyms(keyword)
                expanded_keywords.update(synonyms)

            category['search_key_words_en'] = list(expanded_keywords)
            expanded_count += len(expanded_keywords) - len(original_keywords)

    return expanded_count


if __name__ == '__main__':
    # اختبار
    print("=" * 70)
    print("اختبار القاموس الموسع")
    print("=" * 70)

    test_keywords = ['بليلة', 'معجنات', 'مخبز', 'كوكيز', 'قهوة', 'شاورما']

    for keyword in test_keywords:
        synonyms = get_synonyms(keyword)
        print(f"\n'{keyword}' -> {len(synonyms)} مثيلات:")
        print(f"  {', '.join(synonyms[:10])}" + ("..." if len(synonyms) > 10 else ""))

    print("\n" + "=" * 70)
    print("اكتمل الاختبار!")
    print("=" * 70)
